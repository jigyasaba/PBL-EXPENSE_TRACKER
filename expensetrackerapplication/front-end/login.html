<!DOCTYPE html>
<html>
<head>
  <title>Form Validation</title>
  <style>
    input {
      margin: 5px;
      padding: 5px;
    }
  </style>
</head>
<body>
  <h1 id="head1">WELCOME USER</h1>
  <form onsubmit="return validate()">
    <label>Username:</label>
    <input type="text" id="name" />
    <br />
    <label>Age:</label>
    <input type="number" id="age" />
    <br />
    <label>Email:</label>
    <input type="email" id="email" />
    <br />
    <input type="submit" />
  </form>

  <script>
    function validate() {
      const name = document.getElementById("name");
      const age = document.getElementById("age");
      const email = document.getElementById("email");

      const Name = name.value.trim();
      const Age = parseInt(age.value.trim());
      const Email = email.value.trim();

      let isValid = true;

      const nameRegex = /^[A-Za-z\s]+$/;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      // Name validation
      if (Name === "") {
        alert("Username cannot be empty");
        name.style.borderColor = "red";
        isValid = false;
      } else if (!nameRegex.test(Name)) {
        alert("Invalid name. Only letters and spaces allowed.");
        name.style.borderColor = "red";
        isValid = false;
      } else {
        name.style.borderColor = "green";
      }

      // Age validation
      if (isNaN(Age) || Age < 18) {
        alert(`${Name || 'User'} not authorized. Must be 18+.`);
        age.style.borderColor = "red";
        isValid = false;
      } else {
        age.style.borderColor = "green";
      }

      // Email validation
      if (Email === "") {
        alert("Email cannot be empty");
        email.style.borderColor = "red";
        isValid = false;
      } else if (!emailRegex.test(Email)) {
        alert("Invalid email format");
        email.style.borderColor = "red";
        isValid = false;
      } else {
        email.style.borderColor = "green";
      }

      if (isValid) {
        alert(`WELCOME ${Name}, you are logged in!`);
      } else {
        // Clear fields if invalid
        name.value = "";
        age.value = "";
        email.value = "";
      }

      return isValid;
    }
  </script>
</body>
</html>
